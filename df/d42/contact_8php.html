<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BMLT Root Server: /home/travis/build/bmlt-enabled/bmlt-root-server/main_server/client_interface/contact.php File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BMLT Root Server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_26d822986ba68053f2c860363e4e8d8e.html">main_server</a></li><li class="navelem"><a class="el" href="../../dir_b9035117558b082439ce26b09ce745a4.html">client_interface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">contact.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file is a very simple interface for contacts related to meetings. Only 4 inputs are provided: The meeting ID (an integer), the Service body ID (an integer), the from address (a string), and the message (a string). This comes via GET, not POST.  
<a href="#details">More...</a></p>

<p><a href="../../df/d42/contact_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac8e3064defcc72637982b1295262cba1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/db3/server__admin__javascript_8js.html#a3a2a9b81ffc278e101dff22bc124a4f4">if</a>(preg_match(&quot;/localhost/&quot;, $_SERVER['SERVER_NAME']))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#ac8e3064defcc72637982b1295262cba1">analyzeFromLine</a> ($inFrom)</td></tr>
<tr class="memdesc:ac8e3064defcc72637982b1295262cba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This analyzes an input string for obvious spam signatures. This looks for attempts to insert headers into the From: line.  <a href="#ac8e3064defcc72637982b1295262cba1">More...</a><br /></td></tr>
<tr class="separator:ac8e3064defcc72637982b1295262cba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ea38f4c55ff7ac3ec0e298a10328586"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#a5ea38f4c55ff7ac3ec0e298a10328586">analyzeMessageContent</a> ($inMessage)</td></tr>
<tr class="memdesc:a5ea38f4c55ff7ac3ec0e298a10328586"><td class="mdescLeft">&#160;</td><td class="mdescRight">This analyzes an input string for obvious spam signatures (mostly checking for URLs). This is VERY basic, but it will catch 99% of the usual spam types. Cribbed from here: <a href="http://wcetdesigns.com/tutorials/2011/11/30/detect-url-in-string.html">http://wcetdesigns.com/tutorials/2011/11/30/detect-url-in-string.html</a>.  <a href="#a5ea38f4c55ff7ac3ec0e298a10328586">More...</a><br /></td></tr>
<tr class="separator:a5ea38f4c55ff7ac3ec0e298a10328586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac627d34cf022eeceb324a4f552997246"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#ac627d34cf022eeceb324a4f552997246">isValidEmailAddress</a> ($in_test_address)</td></tr>
<tr class="memdesc:ac627d34cf022eeceb324a4f552997246"><td class="mdescLeft">&#160;</td><td class="mdescRight">This analyzes email address (or a list of them), and returns TRUE if they are OK (as formatted).  <a href="#ac627d34cf022eeceb324a4f552997246">More...</a><br /></td></tr>
<tr class="separator:ac627d34cf022eeceb324a4f552997246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88cf8c00b7731b39aba9a4347d476beb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#a88cf8c00b7731b39aba9a4347d476beb">simplifyEmailAddress</a> ($in_orig_address)</td></tr>
<tr class="memdesc:a88cf8c00b7731b39aba9a4347d476beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This simplifies one single email address, by stripping away cruft.  <a href="#a88cf8c00b7731b39aba9a4347d476beb">More...</a><br /></td></tr>
<tr class="separator:a88cf8c00b7731b39aba9a4347d476beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a4f3436511a2feba5259bbd147b286"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#a98a4f3436511a2feba5259bbd147b286">sendEMail</a> ($in_to_address, $in_from_address, $in_subject=&quot;&lt;No Subject&gt;&quot;, $in_body=&quot;&lt;No Body Text&gt;&quot;)</td></tr>
<tr class="memdesc:a98a4f3436511a2feba5259bbd147b286"><td class="mdescLeft">&#160;</td><td class="mdescRight">This actually sends the email.  <a href="#a98a4f3436511a2feba5259bbd147b286">More...</a><br /></td></tr>
<tr class="separator:a98a4f3436511a2feba5259bbd147b286"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afcc8aececc574924860f2eaf8d1dadd5"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#afcc8aececc574924860f2eaf8d1dadd5">$g_mail_debug</a> = false</td></tr>
<tr class="memdesc:afcc8aececc574924860f2eaf8d1dadd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this to TRUE to output the email as an echo, instead of sending it.  <a href="#afcc8aececc574924860f2eaf8d1dadd5">More...</a><br /></td></tr>
<tr class="separator:afcc8aececc574924860f2eaf8d1dadd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd9e3eb0aad0a7ca42912cd925f148c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = 0</td></tr>
<tr class="separator:affd9e3eb0aad0a7ca42912cd925f148c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d147e63a58f14bbd7211f6cd474958"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a> = 0</td></tr>
<tr class="separator:a49d147e63a58f14bbd7211f6cd474958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acabf71548f433db7d955b2e34d8e45b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/db3/server__admin__javascript_8js.html#a3a2a9b81ffc278e101dff22bc124a4f4">if</a>(isset($_GET['meeting_id'])) <a class="el" href="../../dc/db3/server__admin__javascript_8js.html#a3a2a9b81ffc278e101dff22bc124a4f4">if</a>(0==$meeting_id)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d42/contact_8php.html#acabf71548f433db7d955b2e34d8e45b9">else</a></td></tr>
<tr class="separator:acabf71548f433db7d955b2e34d8e45b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file is a very simple interface for contacts related to meetings. Only 4 inputs are provided: The meeting ID (an integer), the Service body ID (an integer), the from address (a string), and the message (a string). This comes via GET, not POST. </p>
<p>There is never any writing to the database (security). The database is only checked for the contact info.</p>
<p>This file makes sure that email contacts are allowed, then does some basic spam-checking. It will send an email to whatever contact is associated with a meeting.</p>
<p>In order to mitigate spam use, we look for: meeting_id=&lt;INTEGER&gt; The ID of the meeting being referenced. service_body_id=&lt;INTEGER&gt; The ID of the Service body associated with the meeting. from_address=&lt;STRING&gt; A validly-formatted email address to be used as the "FROM:" line. message=&lt;STRING&gt; The message text.</p>
<p>All of these must be supplied, and the Service body ID needs to jive with the one associated with the meeting ID. That's not something that spammers will be easily able to determine; especially when you consider how worthless the recipient will be to them.</p>
<p>The contacts are tiered in this manner:</p><ul>
<li>If a contact is provided for the meeting itself (email_contact field, or contact_email_1), then that contact is used.</li>
<li>If there are multiple contacts using the default contact structure (contact_email_1, contact_email_2), then we will send to both of them.</li>
<li>If no individual contacts are provided for a meeting, then we will use the email contact for the Service body for that meeting.</li>
<li>If no Service body contact is provided, then the email will be sent to the Server Administrator.</li>
<li>If no email contacts are provided anywhere, the email will not be sent.</li>
</ul>
<p>A simple integer response is returned. 1, if the email was successfully sent, 0 if email contacts are disallowed, -1, if no email contacts are available for this meeting, -2, if the from email address is invalid, -3 if the email was flagged as spam, and -4 if there was some error encountered while sending.</p>
<p>If the meeting ID is 0 (or there is no input), then the message text and from are ignored, and this is considered a test to see if email is supported. A response of 1 is yes, 0, otherwise.</p>
<p>This won't work if the $g_enable_email_contact = TRUE; line is not in the auto-config.inc.php file.</p>
<p>If you want to include all the Service body contacts (multiple recipients are possible), then set $include_service_body_admin_on_emails = TRUE; in the config file.</p>
<p>This file is part of the Basic Meeting List Toolbox (BMLT).</p>
<p>Find out more at: <a href="https://bmlt.app">https://bmlt.app</a></p>
<p>BMLT is free software: you can redistribute it and/or modify it under the terms of the MIT License.</p>
<p>BMLT is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the MIT License for more details.</p>
<p>You should have received a copy of the MIT License along with this code. If not, see <a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>. </p>

<p>Definition in file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac8e3064defcc72637982b1295262cba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/db3/server__admin__javascript_8js.html#a3a2a9b81ffc278e101dff22bc124a4f4">if</a> (preg_match(&quot;/localhost/&quot;, $_SERVER['SERVER_NAME'])) analyzeFromLine </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$inFrom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This analyzes an input string for obvious spam signatures. This looks for attempts to insert headers into the From: line. </p>
<dl class="section return"><dt>Returns</dt><dd>a Boolean. TRUE if the message appears to be spam. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$inFrom</td><td>The message from line as a text string. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00070">70</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>References <a class="el" href="../../df/d42/contact_8php_source.html#l00226">$ret</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    $inFrom = strtolower($inFrom);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = !((<span class="keyword">false</span> == strpos($inFrom, <span class="stringliteral">&quot;\r&quot;</span>)) &amp;&amp; (<span class="keyword">false</span> == strpos($inFrom, <span class="stringliteral">&quot;\n&quot;</span>)) &amp;&amp; (<span class="keyword">false</span> == strpos($inFrom, <span class="stringliteral">&quot;;&quot;</span>)) &amp;&amp; (<span class="keyword">false</span> == strpos($inFrom, <span class="stringliteral">&quot;to:&quot;</span>)) &amp;&amp; (<span class="keyword">false</span> == strpos($inFrom, <span class="stringliteral">&quot;cc:&quot;</span>)) &amp;&amp; (<span class="keyword">false</span> == strpos($inFrom, <span class="stringliteral">&quot;bc:&quot;</span>)));</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div><div class="ttc" id="contact_8php_html_affd9e3eb0aad0a7ca42912cd925f148c"><div class="ttname"><a href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a></div><div class="ttdeci">$ret</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00226">contact.php:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ea38f4c55ff7ac3ec0e298a10328586"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">analyzeMessageContent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$inMessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This analyzes an input string for obvious spam signatures (mostly checking for URLs). This is VERY basic, but it will catch 99% of the usual spam types. Cribbed from here: <a href="http://wcetdesigns.com/tutorials/2011/11/30/detect-url-in-string.html">http://wcetdesigns.com/tutorials/2011/11/30/detect-url-in-string.html</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>a Boolean. TRUE if the message appears to be spam. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$inMessage</td><td>The message as a text string. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00087">87</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>References <a class="el" href="../../df/d42/contact_8php_source.html#l00226">$ret</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    $count = 0;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    </div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    $p = <span class="stringliteral">&#39;#^(http(s)?|ftp)://([a-z0-9_-]+.)+([a-z]{2,}){1}((:|/)(.*))?$#&#39;</span>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    $w = preg_split(<span class="stringliteral">&quot;/\s+/&quot;</span>, $inMessage, -1, PREG_SPLIT_NO_EMPTY);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">foreach</span> ($w as $s) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> (preg_match($p, $s)) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">if</span> (1 &lt; $count++) { <span class="comment">// More than 2 is spam.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    </div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="contact_8php_html_affd9e3eb0aad0a7ca42912cd925f148c"><div class="ttname"><a href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a></div><div class="ttdeci">$ret</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00226">contact.php:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac627d34cf022eeceb324a4f552997246"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isValidEmailAddress </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_test_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This analyzes email address (or a list of them), and returns TRUE if they are OK (as formatted). </p>
<dl class="section return"><dt>Returns</dt><dd>a Boolean. TRUE if the emails are OK. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$in_test_address</td><td>The email address (or a list or array) to be checked. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00113">113</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>Referenced by <a class="el" href="../../df/d42/contact_8php_source.html#l00154">simplifyEmailAddress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    $valid = <span class="keyword">false</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (isset($in_test_address)) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> (!is_array($in_test_address)) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            $in_test_address = explode(<span class="stringliteral">&quot;,&quot;</span>, $in_test_address);   <span class="comment">// See if we have a list.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        </div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// Start off optimistic.</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        $valid = <span class="keyword">true</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// If we have more than one address, we iterate through each one.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">foreach</span> ($in_test_address as $addr_elem) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment">// This splits any name/address pair (ex: &quot;Jack Schidt&quot; &lt;jsh@spaz.com&gt;)</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            $addr_temp = preg_split(<span class="stringliteral">&quot;/ &lt;/&quot;</span>, strtolower($addr_elem));</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">if</span> (count($addr_temp) &gt; 1) { <span class="comment">// We also want to trim off address brackets.</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                $addr_elem = trim($addr_temp[1], <span class="stringliteral">&quot;&lt;&gt;&quot;</span>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                $addr_elem = trim($addr_temp[0], <span class="stringliteral">&quot;&lt;&gt;&quot;</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            </div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="comment">// Test for valid email address.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            $regexp = <span class="stringliteral">&quot;/^([a-z0-9\_\.\-]+?)@([a-z0-9\-]+)(\.[a-z0-9\-]+)*(\.[a-z]{2,6})$/&quot;</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            </div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (!preg_match($regexp, strtolower($addr_elem))) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                $valid = <span class="keyword">false</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> $valid;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98a4f3436511a2feba5259bbd147b286"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sendEMail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_to_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_from_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_subject</em> = <code>&quot;&lt;No&#160;Subject&gt;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_body</em> = <code>&quot;&lt;No&#160;Body&#160;Text&gt;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This actually sends the email. </p>
<dl class="section return"><dt>Returns</dt><dd>a Boolean. TRUE if successful. </dd></dl>

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00176">176</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>References <a class="el" href="../../df/d42/contact_8php_source.html#l00056">$g_mail_debug</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    $success = <span class="keyword">false</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    $addlParam = $in_from_address;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> ($addlParam) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        $addlParam = <span class="stringliteral">&quot;-f $addlParam&quot;</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    </div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// The body is not sent in the plain text portion of the</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// mail() function. Instead, it is put in the headers.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    </div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    $headers = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    $headers .= <span class="stringliteral">&quot;From: $in_from_address\n&quot;</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// Make sure our endlines are correct, and unescape any escaped quotes.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    $in_body = preg_replace(<span class="stringliteral">&quot;/\r\n/&quot;</span>, <span class="stringliteral">&quot;\n&quot;</span>, $in_body);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    $in_body = stripslashes(preg_replace(<span class="stringliteral">&quot;/\r/&quot;</span>, <span class="stringliteral">&quot;\n&quot;</span>, $in_body));</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    $in_body = stripslashes(preg_replace(<span class="stringliteral">&quot;/\n+/&quot;</span>, <span class="stringliteral">&quot;\n&quot;</span>, $in_body));</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    $subject = stripslashes($in_subject);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    </div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// Headers precede the body.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    $headers .= $in_body;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    </div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    global <a class="code" href="../../df/d42/contact_8php.html#afcc8aececc574924860f2eaf8d1dadd5">$g_mail_debug</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    </div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> ($g_mail_debug) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        $disp = <span class="stringliteral">&quot;To: &quot;</span>.htmlspecialchars($in_to_address).<span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        $disp .= <span class="stringliteral">&quot;Subject: &quot;</span>.htmlspecialchars($subject).<span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        $disp .= htmlspecialchars($headers);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        echo <span class="stringliteral">&quot;&lt;pre&gt;$disp&lt;/pre&gt;&quot;</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        $success = <span class="keyword">true</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// The &quot;Message&quot; parameter is blank, because we are using</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="comment">// the headers to send the body. Bit more technical, but</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">// more effective.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        $success = mail($in_to_address, $subject, <span class="stringliteral">&quot;&quot;</span>, $headers, $addlParam);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> $success;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/***********************************************************************/</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">/*                             MAIN CONTEXT                            */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">/***********************************************************************/</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = 0;   <span class="comment">// We start off assuming that email contact is disabled.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a> = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;meeting_id&#39;</span>])) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a> = intval(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;meeting_id&#39;</span>]);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">// If this is just a test, we respond with the capability.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keywordflow">if</span> (0 ==  <a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a>) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (file_exists(dirname(dirname(dirname(__FILE__))).<span class="stringliteral">&#39;/auto-config.inc.php&#39;</span>)) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        define(<span class="stringliteral">&#39;BMLT_EXEC&#39;</span>, 1);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// We check to make sure that we are supporting the capability.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        require_once(dirname(dirname(dirname(__FILE__))).<span class="stringliteral">&#39;/auto-config.inc.php&#39;</span>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = $g_enable_email_contact ? 1 : 0;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;} <span class="keywordflow">else</span> {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;service_body_id&#39;</span>])) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        $service_body_id = intval(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;service_body_id&#39;</span>]);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> (!$service_body_id) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            $service_body_id = intval(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;service_body_bigint&#39;</span>]);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;message&#39;</span>])) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        $message_text = <a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;message&#39;</span>];</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;from_address&#39;</span>])) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        $from_address = <a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;from_address&#39;</span>];</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    $isspam = <span class="keyword">false</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            </div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">foreach</span> (<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a> as $key =&gt; $value) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        $key = strtolower(strval($key));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    </div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">// Any attempt to sneak in extra fields automatically marks this as spam.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">if</span> (($key != <span class="stringliteral">&#39;meeting_id&#39;</span>) &amp;&amp; ($key != <span class="stringliteral">&#39;service_body_id&#39;</span>) &amp;&amp; ($key != <span class="stringliteral">&#39;service_body_bigint&#39;</span>) &amp;&amp; ($key != <span class="stringliteral">&#39;from_address&#39;</span>) &amp;&amp; ($key != <span class="stringliteral">&#39;message&#39;</span>)) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">if</span> ($g_mail_debug) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                echo ( <span class="stringliteral">&quot;$key is invalid&lt;br /&gt;&quot;</span> );</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        </div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            $isspam = <span class="keyword">true</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (!$isspam) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        $isspam = isset($from_address) ? <a class="code" href="../../df/d42/contact_8php.html#ac8e3064defcc72637982b1295262cba1">analyzeFromLine</a>($from_address) : false;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    </div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span> (!$isspam) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordflow">if</span> (isset($from_address) ? <a class="code" href="../../df/d42/contact_8php.html#ac627d34cf022eeceb324a4f552997246">isValidEmailAddress</a>($from_address) : <span class="keyword">true</span>) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                $isspam = isset($message_text) ? <a class="code" href="../../df/d42/contact_8php.html#a5ea38f4c55ff7ac3ec0e298a10328586">analyzeMessageContent</a>($message_text) : false;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">if</span> (!$isspam) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <span class="keywordflow">if</span> (file_exists(dirname(dirname(dirname(__FILE__))).<span class="stringliteral">&#39;/auto-config.inc.php&#39;</span>)) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        define(<span class="stringliteral">&#39;BMLT_EXEC&#39;</span>, 1);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        <span class="comment">// We check to make sure that we are supporting the capability.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        require_once(dirname(dirname(dirname(__FILE__))).<span class="stringliteral">&#39;/auto-config.inc.php&#39;</span>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <span class="keywordflow">if</span> ($g_enable_email_contact &amp;&amp; <a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a>) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                            require_once(dirname(dirname(__FILE__)).<span class="stringliteral">&#39;/server/c_comdef_server.class.php&#39;</span>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                            <a class="code" href="../../d4/dae/config-bmlt-basic_8inc_8php.html#ad135cc8a47e55f0829949cf62214170f">$server</a> = <a class="code" href="../../dd/d45/classc__comdef__server.html#a00dcaf66374f7850e53a3864b4854cfc">c_comdef_server::MakeServer</a>();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="../../d4/dae/config-bmlt-basic_8inc_8php.html#ad135cc8a47e55f0829949cf62214170f">$server</a> instanceof <a class="code" href="../../dd/d45/classc__comdef__server.html">c_comdef_server</a>) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                $email_contacts = array();  <span class="comment">// This will contain our meeting email contact list.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    </div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                $meeting_object = <a class="code" href="../../dd/d45/classc__comdef__server.html#a9149cc2f1c13b0a97bc8cabc80c501f9">c_comdef_server::GetOneMeeting</a>(<a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    </div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                <span class="keywordflow">if</span> ($meeting_object instanceof <a class="code" href="../../d9/dcc/classc__comdef__meeting.html">c_comdef_meeting</a>) {  <span class="comment">// We must have a valid meeting.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                    <span class="comment">// This is a pretty good spamtrap. The submission must have both the meeting ID and the valid Service body ID.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                    <span class="keywordflow">if</span> (isset($service_body_id) &amp;&amp; $service_body_id &amp;&amp; ($service_body_id == $meeting_object-&gt;GetServiceBodyID())) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                        <span class="keywordflow">if</span> ($meeting_object-&gt;GetEmailContact()) {   <span class="comment">// The direct contact is placed first in the queue.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                            $email = <a class="code" href="../../df/d42/contact_8php.html#a88cf8c00b7731b39aba9a4347d476beb">simplifyEmailAddress</a>($meeting_object-&gt;GetEmailContact());</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                </div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                            <span class="keywordflow">if</span> ($email) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                                $email_contacts[] = $email;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                            }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                        }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        </div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                        <span class="comment">// We now walk up the hierarchy, and add contacts as we find them. We use the emails set in the Service body admin, not individual accounts.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        </div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                        $service_body = $meeting_object-&gt;GetServiceBodyObj();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        </div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                        <span class="keywordflow">do</span> {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                            <span class="keywordflow">if</span> ($service_body &amp;&amp; $service_body-&gt;GetContactEmail()) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                                $email = <a class="code" href="../../df/d42/contact_8php.html#a88cf8c00b7731b39aba9a4347d476beb">simplifyEmailAddress</a>($service_body-&gt;GetContactEmail());</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                    </div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                                <span class="keywordflow">if</span> ($email &amp;&amp; !in_array($email, $email_contacts)) {    <span class="comment">// Make sure we don&#39;t already have it.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                    $email_contacts[] = $email;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                                }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                            }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                        </div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                            <span class="comment">// We don&#39;t recurse if we aren&#39;t supposed to</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                            $service_body = isset($include_every_admin_on_emails) &amp;&amp; $include_every_admin_on_emails ? $service_body-&gt;GetOwnerIDObject() : null;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                        } <span class="keywordflow">while</span> ($service_body);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                            </div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                        <span class="comment">// The one exception is the Server Administrator, and we get that email from the individual account.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                    </div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                        <span class="keywordflow">if</span> (isset($include_every_admin_on_emails) &amp;&amp; $include_every_admin_on_emails) {   <span class="comment">// The Server admin is not involved unless we are cascading.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                            $server_admin_user = <a class="code" href="../../dd/d45/classc__comdef__server.html#a2cba52338e1ff84741fe0d95e5644d78">c_comdef_server::GetUserByIDObj</a>(1);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        </div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                            <span class="keywordflow">if</span> ($server_admin_user &amp;&amp; $server_admin_user-&gt;GetEmailAddress()) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                                $email = <a class="code" href="../../df/d42/contact_8php.html#a88cf8c00b7731b39aba9a4347d476beb">simplifyEmailAddress</a>($server_admin_user-&gt;GetEmailAddress());</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                    </div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                                <span class="keywordflow">if</span> ($email) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                                    $email_contacts[] = $email;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                                                }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                            }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                        }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                            </div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                        <span class="comment">// At this point, we have one or more email addresses in our $email_contacts array. It&#39;s possible that the Server Admin may be the only contact.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                            </div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                        <span class="keywordflow">if</span> (count($email_contacts)) {    <span class="comment">// Make sure that we have something.</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                            $to_line = null;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                </div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                            <span class="keywordflow">if</span> ((1 &lt; count($email_contacts)) &amp;&amp; $include_service_body_admin_on_emails) { <span class="comment">// See if we are including anyone else.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                                $to_line = implode(<span class="stringliteral">&quot;,&quot;</span>, $email_contacts);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                                $to_line = $email_contacts[0];  <span class="comment">// Otherwise, just the primary contact.</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                            }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                    </div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                            <span class="keywordflow">if</span> ($to_line) { <span class="comment">// Assuming all went well, we have a nice to line, here.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                                <span class="keywordflow">if</span> (<a class="code" href="../../df/d42/contact_8php.html#ac627d34cf022eeceb324a4f552997246">isValidEmailAddress</a>($to_line)) {    <span class="comment">// Make sure our email addresses are valid.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                                    $local_strings = <a class="code" href="../../dd/d45/classc__comdef__server.html#a5d1cdd8b1c6b2543ce6a3fa61916a0c8">c_comdef_server::GetLocalStrings</a>();</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                </div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                    $subject = <a class="code" href="../../dd/d9d/installer_8js.html#a41b70f5c007eea71a953a221c6366852">sprintf</a>($local_strings[<span class="stringliteral">&#39;email_contact_strings&#39;</span>][<span class="stringliteral">&#39;meeting_contact_form_subject_format&#39;</span>], $meeting_object-&gt;GetLocalName());</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                                    $dirn = dirname(( dirname($_SERVER[<span class="stringliteral">&#39;PHP_SELF&#39;</span>])));</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                                    <span class="keywordflow">if</span> (<span class="charliteral">&#39;/&#39;</span> == $dirn) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                                        $dirn = <span class="stringliteral">&#39;&#39;</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                                    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                                    $start_time = explode(<span class="charliteral">&#39;:&#39;</span>, $meeting_object-&gt;GetMeetingDataValue(<span class="stringliteral">&#39;start_time&#39;</span>));</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                                    unset($start_time[2]);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                                    $start_time = implode(<span class="charliteral">&#39;:&#39;</span>, $start_time);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                    $root_dirname = <span class="stringliteral">&#39;http://&#39;</span>.$_SERVER[<span class="stringliteral">&#39;SERVER_NAME&#39;</span>].(($_SERVER[<span class="stringliteral">&#39;SERVER_PORT&#39;</span>] != 80) ? <span class="charliteral">&#39;:&#39;</span>.$_SERVER[<span class="stringliteral">&#39;SERVER_PORT&#39;</span>] : <span class="stringliteral">&#39;&#39;</span>).$dirn;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                                    $url1 = $root_dirname.<span class="stringliteral">&#39;/?single_meeting_id=&#39;</span>.<a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                                    $url2 = $root_dirname.<span class="stringliteral">&#39;/?edit_meeting=&#39;</span>.<a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                                    $body = <a class="code" href="../../dd/d9d/installer_8js.html#a41b70f5c007eea71a953a221c6366852">sprintf</a>(</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                                        $local_strings[<span class="stringliteral">&#39;email_contact_strings&#39;</span>][<span class="stringliteral">&#39;meeting_contact_message_format&#39;</span>],</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                                        $message_text,</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                                        $meeting_object-&gt;GetLocalName(),</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                                        $start_time,</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                                        $local_strings[<span class="stringliteral">&#39;weekdays&#39;</span>][$meeting_object-&gt;GetMeetingDataValue(<span class="stringliteral">&#39;weekday_tinyint&#39;</span>)],</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                                        $url1,</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                                        $url2</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                                    );</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                    <span class="keywordflow">if</span> (<a class="code" href="../../df/d42/contact_8php.html#a98a4f3436511a2feba5259bbd147b286">sendEMail</a>($to_line, $from_address, $subject, $body)) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                        <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = 1;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                                        <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -4;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                                    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                                    <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -1;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                                }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                                <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -1;  <span class="comment">// Should never happen.</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                            }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                            <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -1;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                        }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                        <span class="keywordflow">if</span> ($g_mail_debug) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                            die(<span class="stringliteral">&quot;Content Considered Spam (Service body check failed)&quot;</span>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                        }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                </div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                        <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -3;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                    }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                            }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                        <span class="comment">// If this is just a test, we respond with the capability.</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        <span class="keywordflow">if</span> (0 ==  <a class="code" href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a>) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                            <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = $g_enable_email_contact ? 1 : 0;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                        }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        die(<span class="stringliteral">&quot;SERVER NOT INITIALIZED&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="keywordflow">if</span> ($g_mail_debug) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        die(<span class="stringliteral">&quot;Content Considered Spam&quot;</span>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                </div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -3;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">if</span> ($g_mail_debug) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    die(<span class="stringliteral">&quot;From Address Invalid&quot;</span>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            </div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -2;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">if</span> ($g_mail_debug) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                die(<span class="stringliteral">&quot;From Address Considered Spam&quot;</span>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            </div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = -3;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="ttc" id="classc__comdef__server_html_a5d1cdd8b1c6b2543ce6a3fa61916a0c8"><div class="ttname"><a href="../../dd/d45/classc__comdef__server.html#a5d1cdd8b1c6b2543ce6a3fa61916a0c8">c_comdef_server\GetLocalStrings</a></div><div class="ttdeci">static GetLocalStrings($in_lang_enum=null)</div><div class="ttdoc">This gets the appropriate language files, and puts all the the strings into an associative array...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l02593">c_comdef_server.class.php:2593</a></div></div>
<div class="ttc" id="contact_8php_html_ac627d34cf022eeceb324a4f552997246"><div class="ttname"><a href="../../df/d42/contact_8php.html#ac627d34cf022eeceb324a4f552997246">isValidEmailAddress</a></div><div class="ttdeci">isValidEmailAddress($in_test_address)</div><div class="ttdoc">This analyzes email address (or a list of them), and returns TRUE if they are OK (as formatted)...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00113">contact.php:113</a></div></div>
<div class="ttc" id="contact_8php_html_afcc8aececc574924860f2eaf8d1dadd5"><div class="ttname"><a href="../../df/d42/contact_8php.html#afcc8aececc574924860f2eaf8d1dadd5">$g_mail_debug</a></div><div class="ttdeci">global $g_mail_debug</div><div class="ttdoc">Set this to TRUE to output the email as an echo, instead of sending it. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00056">contact.php:56</a></div></div>
<div class="ttc" id="classc__comdef__meeting_html"><div class="ttname"><a href="../../d9/dcc/classc__comdef__meeting.html">c_comdef_meeting</a></div><div class="ttdoc">A class to hold a single meeting object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00050">c_comdef_meeting.class.php:50</a></div></div>
<div class="ttc" id="contact_8php_html_ac8e3064defcc72637982b1295262cba1"><div class="ttname"><a href="../../df/d42/contact_8php.html#ac8e3064defcc72637982b1295262cba1">analyzeFromLine</a></div><div class="ttdeci">if(preg_match(&quot;/localhost/&quot;, $_SERVER['SERVER_NAME'])) analyzeFromLine($inFrom)</div><div class="ttdoc">This analyzes an input string for obvious spam signatures. This looks for attempts to insert headers ...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00070">contact.php:70</a></div></div>
<div class="ttc" id="contact_8php_html_a5ea38f4c55ff7ac3ec0e298a10328586"><div class="ttname"><a href="../../df/d42/contact_8php.html#a5ea38f4c55ff7ac3ec0e298a10328586">analyzeMessageContent</a></div><div class="ttdeci">analyzeMessageContent($inMessage)</div><div class="ttdoc">This analyzes an input string for obvious spam signatures (mostly checking for URLs). This is VERY basic, but it will catch 99% of the usual spam types. Cribbed from here: http://wcetdesigns.com/tutorials/2011/11/30/detect-url-in-string.html. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00087">contact.php:87</a></div></div>
<div class="ttc" id="contact_8php_html_affd9e3eb0aad0a7ca42912cd925f148c"><div class="ttname"><a href="../../df/d42/contact_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a></div><div class="ttdeci">$ret</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00226">contact.php:226</a></div></div>
<div class="ttc" id="installer_8js_html_a41b70f5c007eea71a953a221c6366852"><div class="ttname"><a href="../../dd/d9d/installer_8js.html#a41b70f5c007eea71a953a221c6366852">sprintf</a></div><div class="ttdeci">function sprintf()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9d/installer_8js_source.html#l00872">installer.js:872</a></div></div>
<div class="ttc" id="contact_8php_html_a49d147e63a58f14bbd7211f6cd474958"><div class="ttname"><a href="../../df/d42/contact_8php.html#a49d147e63a58f14bbd7211f6cd474958">$meeting_id</a></div><div class="ttdeci">$meeting_id</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00227">contact.php:227</a></div></div>
<div class="ttc" id="contact_8php_html_a98a4f3436511a2feba5259bbd147b286"><div class="ttname"><a href="../../df/d42/contact_8php.html#a98a4f3436511a2feba5259bbd147b286">sendEMail</a></div><div class="ttdeci">sendEMail($in_to_address, $in_from_address, $in_subject=&quot;&lt;No Subject&gt;&quot;, $in_body=&quot;&lt;No Body Text&gt;&quot;)</div><div class="ttdoc">This actually sends the email. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00176">contact.php:176</a></div></div>
<div class="ttc" id="contact_8php_html_a88cf8c00b7731b39aba9a4347d476beb"><div class="ttname"><a href="../../df/d42/contact_8php.html#a88cf8c00b7731b39aba9a4347d476beb">simplifyEmailAddress</a></div><div class="ttdeci">simplifyEmailAddress($in_orig_address)</div><div class="ttdoc">This simplifies one single email address, by stripping away cruft. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00154">contact.php:154</a></div></div>
<div class="ttc" id="classc__comdef__server_html_a2cba52338e1ff84741fe0d95e5644d78"><div class="ttname"><a href="../../dd/d45/classc__comdef__server.html#a2cba52338e1ff84741fe0d95e5644d78">c_comdef_server\GetUserByIDObj</a></div><div class="ttdeci">static GetUserByIDObj($in_user_id_bigint)</div><div class="ttdoc">Get the object for a single user, given an ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01138">c_comdef_server.class.php:1138</a></div></div>
<div class="ttc" id="classc__comdef__server_html_a00dcaf66374f7850e53a3864b4854cfc"><div class="ttname"><a href="../../dd/d45/classc__comdef__server.html#a00dcaf66374f7850e53a3864b4854cfc">c_comdef_server\MakeServer</a></div><div class="ttdeci">static MakeServer()</div><div class="ttdoc">This is the factory for the server instantiation. It makes sure that only one instance exists...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l00092">c_comdef_server.class.php:92</a></div></div>
<div class="ttc" id="classc__comdef__server_html"><div class="ttname"><a href="../../dd/d45/classc__comdef__server.html">c_comdef_server</a></div><div class="ttdoc">This class is the main server class. It instantiates a PDO database object, and is the starting point...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l00047">c_comdef_server.class.php:47</a></div></div>
<div class="ttc" id="config-bmlt-basic_8inc_8php_html_ad135cc8a47e55f0829949cf62214170f"><div class="ttname"><a href="../../d4/dae/config-bmlt-basic_8inc_8php.html#ad135cc8a47e55f0829949cf62214170f">$server</a></div><div class="ttdeci">$server</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dae/config-bmlt-basic_8inc_8php_source.html#l00033">config-bmlt-basic.inc.php:33</a></div></div>
<div class="ttc" id="classc__comdef__server_html_a9149cc2f1c13b0a97bc8cabc80c501f9"><div class="ttname"><a href="../../dd/d45/classc__comdef__server.html#a9149cc2f1c13b0a97bc8cabc80c501f9">c_comdef_server\GetOneMeeting</a></div><div class="ttdeci">static GetOneMeeting($in_id_bigint, $test_only=false)</div><div class="ttdoc">Given an ID for a meeting, it returns one instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01485">c_comdef_server.class.php:1485</a></div></div>
<div class="ttc" id="xml_2GetServiceBodies_8php_html_a20155abd333d762a71da332c349f6b09"><div class="ttname"><a href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a></div><div class="ttdeci">$_GET['switcher']</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc0/xml_2GetServiceBodies_8php_source.html#l00030">GetServiceBodies.php:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88cf8c00b7731b39aba9a4347d476beb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simplifyEmailAddress </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in_orig_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This simplifies one single email address, by stripping away cruft. </p>
<dl class="section return"><dt>Returns</dt><dd>a "cleaned" email address. </dd></dl>

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00154">154</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>References <a class="el" href="../../df/d42/contact_8php_source.html#l00113">isValidEmailAddress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    $addr_temp = preg_split(<span class="stringliteral">&quot;/ &lt;/&quot;</span>, $in_orig_address);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    </div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (count($addr_temp) &gt; 1) { <span class="comment">// We also want to trim off address brackets.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        $addr_elem = trim($addr_temp[1], <span class="stringliteral">&quot; &lt;&gt;&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        $addr_elem = trim($addr_temp[0], <span class="stringliteral">&quot; &lt;&gt;&quot;</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d42/contact_8php.html#ac627d34cf022eeceb324a4f552997246">isValidEmailAddress</a>($addr_elem)) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> $addr_elem;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    </div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="ttc" id="contact_8php_html_ac627d34cf022eeceb324a4f552997246"><div class="ttname"><a href="../../df/d42/contact_8php.html#ac627d34cf022eeceb324a4f552997246">isValidEmailAddress</a></div><div class="ttdeci">isValidEmailAddress($in_test_address)</div><div class="ttdoc">This analyzes email address (or a list of them), and returns TRUE if they are OK (as formatted)...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d42/contact_8php_source.html#l00113">contact.php:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="afcc8aececc574924860f2eaf8d1dadd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$g_mail_debug = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set this to TRUE to output the email as an echo, instead of sending it. </p>

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00056">56</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>Referenced by <a class="el" href="../../df/d42/contact_8php_source.html#l00176">sendEMail()</a>.</p>

</div>
</div>
<a class="anchor" id="a49d147e63a58f14bbd7211f6cd474958"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$meeting_id = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00227">227</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00737">c_comdef_admin_xml_handler\get_changes_as_csv()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00491">c_comdef_admin_xml_handler\get_deleted_meetings_as_csv()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00068">c_comdef_admin_xml_handler\get_meeting_data()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l01188">GetChanges()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l00045">parse_redirect()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00274">c_comdef_admin_xml_handler\process_changes()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00436">c_comdef_admin_xml_handler\process_deleted_meetings()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01073">c_comdef_admin_xml_handler\process_meeting_modify()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01572">c_comdef_meeting\process_meeting_row()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00378">c_comdef_admin_xml_handler\process_restore_deleted_meeting()</a>, and <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00325">c_comdef_admin_xml_handler\process_rollback_meeting()</a>.</p>

</div>
</div>
<a class="anchor" id="affd9e3eb0aad0a7ca42912cd925f148c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ret = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00226">226</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

<p>Referenced by <a class="el" href="../../df/d42/contact_8php_source.html#l00070">analyzeFromLine()</a>, <a class="el" href="../../df/d42/contact_8php_source.html#l00087">analyzeMessageContent()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00254">c_comdef_admin_xml_handler\basic_user_validation()</a>, <a class="el" href="../../db/d4d/installer__guts_8php_source.html#l00457">bmlt_create_lang_select()</a>, <a class="el" href="../../db/d4d/installer__guts_8php_source.html#l00431">bmlt_create_next_prev_buttons()</a>, <a class="el" href="../../db/d4d/installer__guts_8php_source.html#l00552">bmlt_create_pdo_driver_select()</a>, <a class="el" href="../../db/d4d/installer__guts_8php_source.html#l00520">bmlt_create_region_bias_select()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01131">BMLT_FuncNAWSReturnDirections()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01164">BMLT_FuncNAWSReturnFormat1()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01206">BMLT_FuncNAWSReturnFormat2()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01251">BMLT_FuncNAWSReturnFormat3()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01296">BMLT_FuncNAWSReturnFormat4()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01341">BMLT_FuncNAWSReturnFormat5()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00854">BMLT_FuncNAWSReturnInst()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00924">BMLT_FuncNAWSReturnLanguage1()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01023">BMLT_FuncNAWSReturnLastMeetingChangeTime()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00961">BMLT_FuncNAWSReturnMeetingNAWSID()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01386">BMLT_FuncNAWSReturnMeetingServiceBodyName()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01055">BMLT_FuncNAWSReturnMeetingServiceBodyNAWSID()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00989">BMLT_FuncNAWSReturnMeetingTown()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l01094">BMLT_FuncNAWSReturnNonNawsFormats()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00775">BMLT_FuncNAWSReturnOpenOrClosed()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00750">BMLT_FuncNAWSReturnPublishedStatus()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00896">BMLT_FuncNAWSReturnTime()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00869">BMLT_FuncNAWSReturnWeekday()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00816">BMLT_FuncNAWSReturnWheelchair()</a>, <a class="el" href="../../d8/dad/common__search_8inc_8php_source.html#l00669">BuildLocation()</a>, <a class="el" href="../../d0/d45/comdef__utilityclasses_8inc_8php_source.html#l00288">c_comdef_admin_bar()</a>, <a class="el" href="../../d0/d45/comdef__utilityclasses_8inc_8php_source.html#l00395">c_comdef_htmlspecialchars()</a>, <a class="el" href="../../df/dd7/c__comdef__login_8php_source.html#l00234">c_comdef_LoginForm()</a>, <a class="el" href="../../d0/d45/comdef__utilityclasses_8inc_8php_source.html#l00408">c_comdef_vet_email_address()</a>, <a class="el" href="../../dc/df3/bmlt__semantic_8class_8php_source.html#l00086">bmlt_semantic\call_curl()</a>, <a class="el" href="../../d0/d45/comdef__utilityclasses_8inc_8php_source.html#l00179">call_curl()</a>, <a class="el" href="../../dd/d89/bmlt__basic_8class_8php_source.html#l00162">bmlt_basic\cms_get_option()</a>, <a class="el" href="../../d8/d96/PhpJsonXmlArrayStringInterchanger_8inc_8php_source.html#l00088">PhpJsonXmlArrayStringInterchanger\convertXmlToArray()</a>, <a class="el" href="../../d6/d16/c__comdef__format_8class_8php_source.html#l00197">c_comdef_format\DeleteFromDB()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00226">c_comdef_service_body\DeleteFromDB()</a>, <a class="el" href="../../df/d40/c__comdef__user_8class_8php_source.html#l00236">c_comdef_user\DeleteFromDB()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00455">c_comdef_meeting\DeleteFromDB()</a>, <a class="el" href="../../d6/d16/c__comdef__format_8class_8php_source.html#l00167">c_comdef_format\DeleteFromDB_NoRecord()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00194">c_comdef_service_body\DeleteFromDB_NoRecord()</a>, <a class="el" href="../../df/d40/c__comdef__user_8class_8php_source.html#l00204">c_comdef_user\DeleteFromDB_NoRecord()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00417">c_comdef_meeting\DeleteFromDB_NoRecord()</a>, <a class="el" href="../../de/d1f/c__comdef__change_8class_8php_source.html#l00547">c_comdef_change\DescribeChange()</a>, <a class="el" href="../../de/d1f/c__comdef__change_8class_8php_source.html#l00615">c_comdef_change\DetailedChangeDescription()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00113">DisplaySearchResultsCSV()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01458">c_comdef_server\DoesMeetingExist()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l01086">c_comdef_meeting_search_manager\DoSearch()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l00709">c_comdef_server\DuplicateMeetingID()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00737">c_comdef_admin_xml_handler\get_changes_as_csv()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00491">c_comdef_admin_xml_handler\get_deleted_meetings_as_csv()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00068">c_comdef_admin_xml_handler\get_meeting_data()</a>, <a class="el" href="../../dc/df3/bmlt__semantic_8class_8php_source.html#l00322">bmlt_semantic\get_server_keys()</a>, <a class="el" href="../../dc/df3/bmlt__semantic_8class_8php_source.html#l00280">bmlt_semantic\get_server_langs()</a>, <a class="el" href="../../dc/df3/bmlt__semantic_8class_8php_source.html#l00234">bmlt_semantic\get_server_version()</a>, <a class="el" href="../../dc/df3/bmlt__semantic_8class_8php_source.html#l00406">bmlt_semantic\get_wizard_page_html()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00573">c_comdef_meeting\GetAddressDataItemBuilder()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00531">c_comdef_meeting\GetAddressDataItemKeys()</a>, <a class="el" href="../../de/d1f/c__comdef__change_8class_8php_source.html#l00454">c_comdef_change\GetAfterObject()</a>, <a class="el" href="../../d8/dad/common__search_8inc_8php_source.html#l00545">GetAllContainedServiceBodyIDs()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00623">c_comdef_meeting\GetAllMeetingKeys()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l02067">c_comdef_server\GetAllMeetings()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l00676">c_comdef_server\GetAllServiceIDs()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00690">c_comdef_meeting\GetAllValuesForKey()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l01023">c_comdef_meeting_search_manager\GetAvailableFormats()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00972">c_comdef_meeting_search_manager\GetAvailableLanguages()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00997">c_comdef_meeting_search_manager\GetAvailableServiceBodies()</a>, <a class="el" href="../../de/d1f/c__comdef__change_8class_8php_source.html#l00410">c_comdef_change\GetBeforeObject()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l01188">GetChanges()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l01078">GetChildServiceBodies()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00639">c_comdef_service_body\GetContactEmail()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01675">c_comdef_meeting\GetContactEmail()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l00881">GetCoverageArea()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l02142">c_comdef_server\GetCoverageArea()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01207">c_comdef_server\GetCurrentUserObj()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00896">c_comdef_meeting\GetDataTableTemplate()</a>, <a class="el" href="../../dc/d61/c__comdef__users_8class_8php_source.html#l00124">c_comdef_users\GetEncryptedPW()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01282">c_comdef_server\GetEncryptedPW()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l00901">GetFormats()</a>, <a class="el" href="../../d8/d8d/c__comdef__formats_8class_8php_source.html#l00194">c_comdef_formats\GetFormatsByLanguage()</a>, <a class="el" href="../../d8/d8d/c__comdef__formats_8class_8php_source.html#l00167">c_comdef_formats\GetFormatsBySharedIDCode()</a>, <a class="el" href="../../d8/d8d/c__comdef__formats_8class_8php_source.html#l00223">c_comdef_formats\GetFormatsByString()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00832">c_comdef_meeting\GetFullTemplate()</a>, <a class="el" href="../../d8/dad/common__search_8inc_8php_source.html#l00712">GetGeocodeFromString()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01180">c_comdef_meeting\GetID()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00942">c_comdef_meeting\GetLongDataTableTemplate()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00854">c_comdef_meeting\GetMainDataTemplate()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01396">c_comdef_meeting\GetMeetingAddressString()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01027">c_comdef_meeting\GetMeetingDataKeys()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01093">c_comdef_meeting\GetMeetingDataPrompt()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01045">c_comdef_meeting\GetMeetingDataValue()</a>, <a class="el" href="../../d4/def/c__comdef__meetings_8class_8php_source.html#l00697">c_comdef_meetings\GetMeetingKeys()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01639">c_comdef_server\GetMeetings()</a>, <a class="el" href="../../d4/def/c__comdef__meetings_8class_8php_source.html#l00352">c_comdef_meetings\GetMeetingsByDistance()</a>, <a class="el" href="../../d4/def/c__comdef__meetings_8class_8php_source.html#l00404">c_comdef_meetings\GetMeetingsByKeyValue()</a>, <a class="el" href="../../d4/def/c__comdef__meetings_8class_8php_source.html#l00512">c_comdef_meetings\GetMeetingsByString()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l01523">c_comdef_meeting_search_manager\GetMultipleMeetingsByID()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00409">c_comdef_meeting_search_manager\GetNumberOfPages()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00433">c_comdef_meeting_search_manager\GetNumberOfResults()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00453">c_comdef_meeting_search_manager\GetNumberOfResultsInThisPage()</a>, <a class="el" href="../../d4/def/c__comdef__meetings_8class_8php_source.html#l00265">c_comdef_meetings\GetNumMeetings()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01524">c_comdef_server\GetOneChange()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01558">c_comdef_server\GetOneUser()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00488">c_comdef_service_body\GetOwnerIDObject()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00477">c_comdef_meeting_search_manager\GetPageOfResults()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00331">c_comdef_meeting_search_manager\GetResultsPerPage()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00635">c_comdef_meeting_search_manager\GetRootObject()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l01253">c_comdef_meeting_search_manager\GetSearchResultsAsArray()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l01101">GetServerInfo()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l01147">GetServerVersion()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l01012">GetServiceBodies()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01333">c_comdef_server\GetServiceBodyByIDObj()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01362">c_comdef_server\GetServiceBodyHierarchyIDs()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01284">c_comdef_meeting\GetServiceBodyName()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l01068">c_comdef_meeting_search_manager\GetSpecificSortKeys()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l00619">c_comdef_server\GetUsedFormatsArray()</a>, <a class="el" href="../../dc/d61/c__comdef__users_8class_8php_source.html#l00101">c_comdef_users\GetUserByID()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01138">c_comdef_server\GetUserByIDObj()</a>, <a class="el" href="../../dc/d61/c__comdef__users_8class_8php_source.html#l00150">c_comdef_users\GetUserByLogin()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01162">c_comdef_server\GetUserByLogin()</a>, <a class="el" href="../../dc/d61/c__comdef__users_8class_8php_source.html#l00173">c_comdef_users\GetUserByLoginCredentials()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01184">c_comdef_server\GetUserByLoginCredentials()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l02710">c_comdef_server\GetUserServiceBodies()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l02466">c_comdef_server\HuntForRadius()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01072">c_comdef_meeting\IsItemHidden()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l01035">c_comdef_service_body\IsOwnedBy()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00704">c_comdef_service_body\IsUserInServiceBody()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00743">c_comdef_service_body\IsUserInServiceBodyHierarchy()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01233">c_comdef_server\IsUserServerAdmin()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l01258">c_comdef_server\IsUserServiceBodyAdmin()</a>, <a class="el" href="../../d8/d96/PhpJsonXmlArrayStringInterchanger_8inc_8php_source.html#l00062">PhpJsonXmlArrayStringInterchanger\parseXml()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l00548">prepareSimpleLine()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01750">c_comdef_admin_xml_handler\process_capabilities_request()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00274">c_comdef_admin_xml_handler\process_changes()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00152">c_comdef_admin_xml_handler\process_commands()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00436">c_comdef_admin_xml_handler\process_deleted_meetings()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01464">c_comdef_admin_xml_handler\process_format_info()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00965">c_comdef_admin_xml_handler\process_get_field_templates()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01026">c_comdef_admin_xml_handler\process_meeting_delete()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01073">c_comdef_admin_xml_handler\process_meeting_modify()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00378">c_comdef_admin_xml_handler\process_restore_deleted_meeting()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l00325">c_comdef_admin_xml_handler\process_rollback_meeting()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01543">c_comdef_admin_xml_handler\process_service_bodies_info_request()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01594">c_comdef_admin_xml_handler\process_service_body_info_request()</a>, <a class="el" href="../../dd/d8d/c__comdef__admin__xml__handler_8class_8php_source.html#l01824">c_comdef_admin_xml_handler\process_user_info()</a>, <a class="el" href="../../df/d40/c__comdef__user_8class_8php_source.html#l00268">c_comdef_user\ResetChildUsers()</a>, <a class="el" href="../../d3/d40/c__comdef__admin__main__console_8class_8php_source.html#l00152">c_comdef_admin_main_console\return_main_console_html()</a>, <a class="el" href="../../d6/d23/csv_8php_source.html#l00686">returnArrayFromCSV()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00678">ReturnNAWSDeletedMeetings()</a>, <a class="el" href="../../da/d34/search__results__csv_8php_source.html#l00561">ReturnNAWSFormatCSV()</a>, <a class="el" href="../../de/d1f/c__comdef__change_8class_8php_source.html#l00497">c_comdef_change\Rollback()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01527">c_comdef_meeting\SerializeObject()</a>, <a class="el" href="../../dd/d0c/c__comdef__server_8class_8php_source.html#l00245">c_comdef_server\ServerLangSortCallback()</a>, <a class="el" href="../../db/d4d/installer__guts_8php_source.html#l00496">ServerLangSortCallback()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01223">c_comdef_meeting\SetEmailContact()</a>, <a class="el" href="../../df/d40/c__comdef__user_8class_8php_source.html#l00566">c_comdef_user\SetLogin()</a>, <a class="el" href="../../d5/d5a/c__comdef__meeting__search__manager_8class_8php_source.html#l00353">c_comdef_meeting_search_manager\SetResultsPerPage()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01255">c_comdef_meeting\SetServiceBodyID()</a>, <a class="el" href="../../d0/d45/comdef__utilityclasses_8inc_8php_source.html#l00071">SplitIntoMetaphone()</a>, <a class="el" href="../../dc/df3/bmlt__semantic_8class_8php_source.html#l00048">bmlt_semantic\strip_script()</a>, <a class="el" href="../../d6/d16/c__comdef__format_8class_8php_source.html#l00067">c_comdef_format\UpdateToDB()</a>, <a class="el" href="../../df/d40/c__comdef__user_8class_8php_source.html#l00099">c_comdef_user\UpdateToDB()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00099">c_comdef_service_body\UpdateToDB()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l00240">c_comdef_meeting\UpdateToDB()</a>, <a class="el" href="../../d6/d16/c__comdef__format_8class_8php_source.html#l00517">c_comdef_format\UserCanEdit()</a>, <a class="el" href="../../df/d40/c__comdef__user_8class_8php_source.html#l00767">c_comdef_user\UserCanEdit()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00977">c_comdef_service_body\UserCanEdit()</a>, <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01698">c_comdef_meeting\UserCanEdit()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00886">c_comdef_service_body\UserCanEditMeetings()</a>, <a class="el" href="../../d3/d6a/c__comdef__service__body_8class_8php_source.html#l00931">c_comdef_service_body\UserCanObserve()</a>, and <a class="el" href="../../d6/d10/c__comdef__meeting_8class_8php_source.html#l01751">c_comdef_meeting\UserCanObserve()</a>.</p>

</div>
</div>
<a class="anchor" id="acabf71548f433db7d955b2e34d8e45b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foreach ($_GET as $key=&gt; $value) <a class="el" href="../../dc/db3/server__admin__javascript_8js.html#a3a2a9b81ffc278e101dff22bc124a4f4">if</a> (!$isspam) else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;service_body_id&#39;</span>])) {</div><div class="line">        $service_body_id = intval(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;service_body_id&#39;</span>]);</div><div class="line">        <span class="keywordflow">if</span> (!$service_body_id) {</div><div class="line">            $service_body_id = intval(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;service_body_bigint&#39;</span>]);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;message&#39;</span>])) {</div><div class="line">        $message_text = <a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;message&#39;</span>];</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (isset(<a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;from_address&#39;</span>])) {</div><div class="line">        $from_address = <a class="code" href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a>[<span class="stringliteral">&#39;from_address&#39;</span>];</div><div class="line">    }</div><div class="line"></div><div class="line">    $isspam = <span class="keyword">false</span></div><div class="ttc" id="xml_2GetServiceBodies_8php_html_a20155abd333d762a71da332c349f6b09"><div class="ttname"><a href="../../d9/dc0/xml_2GetServiceBodies_8php.html#a20155abd333d762a71da332c349f6b09">$_GET</a></div><div class="ttdeci">$_GET['switcher']</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc0/xml_2GetServiceBodies_8php_source.html#l00030">GetServiceBodies.php:30</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="../../df/d42/contact_8php_source.html#l00241">241</a> of file <a class="el" href="../../df/d42/contact_8php_source.html">contact.php</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 27 2020 18:49:13 for BMLT Root Server by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
